
      return {
          'raw_lines': raw_lines,
          'parsed_lines': parsed_lines,
          'raw_chars': raw_chars,
          'parsed_chars': parsed_chars,
          'are_equal': are_equal,
          'size_reduction_pct': size_reduction_pct
      }


  if __name__ == "__main__":
      import doctest
      doctest.testmod()

  This function provides comprehensive metrics for validating parser
  behavior in your Claude Code automation pipeline. The size_reduction_pct
  is particularly useful for measuring how effectively your parser strips
  control sequences and formatting from tmux output.

────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
> 
────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
  ⏵⏵ bypass permissions on (shift+tab to cycle)                                            Thinking on (tab to toggle)




